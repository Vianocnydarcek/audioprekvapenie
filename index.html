<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moje VianoÄnÃ© DobrodruÅ¾stvo</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary: #ff4757;
            --secondary: #2f3542;
            --accent: #747d8c;
            --bg: #f1f2f6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #a6c1ee;
            background-image: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.2) 0%, transparent 20%), 
                              radial-gradient(circle at 80% 80%, rgba(255,255,255,0.2) 0%, transparent 20%);
            margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center;
        }

        .app-card {
            background: white; border-radius: 30px; box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            max-width: 500px; width: 100%; padding: 25px; text-align: center; margin-bottom: 20px;
            border: 5px solid white;
        }

        h1 { color: var(--primary); margin-top: 0; }

        /* --- ROBO-PES 2.0 --- */
        .pet-container {
            background: #f8f9fa; border-radius: 20px; padding: 20px; position: relative;
            border: 2px solid #eee; margin: 20px 0;
        }

        #pet-emoji { font-size: 80px; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: block; }
        
        .status-bar {
            height: 10px; width: 100%; background: #ddd; border-radius: 5px; margin: 15px 0; overflow: hidden;
        }
        #happiness-fill {
            height: 100%; width: 50%; background: linear-gradient(90deg, #ff4757, #ff6b81); transition: width 0.5s;
        }

        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        
        button {
            padding: 12px; border: none; border-radius: 12px; cursor: pointer;
            font-weight: bold; font-size: 14px; transition: 0.2s;
        }
        .btn-action { background: var(--secondary); color: white; }
        .btn-action:hover { background: #000; transform: translateY(-2px); }

        /* --- KNIÅ½NÃ PORADCA --- */
        .book-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .book-card {
            background: #fff; border: 2px solid #f1f2f6; padding: 10px; border-radius: 15px;
            cursor: pointer; transition: 0.3s;
        }
        .book-card:hover { border-color: var(--primary); background: #fffafb; }

        #recommendation-box {
            display: none; margin-top: 20px; padding: 15px; background: #fff0f2;
            border-radius: 15px; border-left: 5px solid var(--primary); text-align: left;
        }

        .cta-button {
            display: block; background: var(--primary); color: white; text-decoration: none;
            padding: 18px; border-radius: 15px; font-size: 18px; font-weight: bold;
            margin-top: 25px; box-shadow: 0 10px 20px rgba(255, 71, 87, 0.3);
        }

        /* AnimÃ¡cie */
        .jump { transform: translateY(-20px) scale(1.1); }
        .spin { transform: rotate(360deg); }
    </style>
</head>
<body>

    <div class="app-card">
        <h1 id="welcome-msg">Ahoj, krstniatko! ğŸ„</h1>
        <p>Tvoj interaktÃ­vny vianoÄnÃ½ sprievodca.</p>

        <div class="pet-container">
            <div id="pet-emoji">ğŸ¤–ğŸ¶</div>
            <div id="pet-speech" style="font-weight: bold; color: var(--primary); height: 20px; margin-bottom: 5px;"></div>
            <div style="font-size: 12px; color: #777; text-align: left;">Å Å¥astie tvojho robo-psa:</div>
            <div class="status-bar"><div id="happiness-fill"></div></div>
            
            <div class="controls">
                <button class="btn-action" onclick="petAction('feed')">ğŸ— NakÅ•miÅ¥</button>
                <button class="btn-action" onclick="petAction('play')">ğŸ¾ HraÅ¥ sa</button>
                <button class="btn-action" onclick="petAction('pet')">ğŸ–ï¸ PohladkaÅ¥</button>
                <button class="btn-action" onclick="petAction('dance')">ğŸ’ƒ Tancuj!</button>
            </div>
        </div>
    </div>

    <div class="app-card">
        <h3>ğŸ“š NÃ¡jdi svoju audioknihu</h3>
        <p>Na Äo mÃ¡Å¡ dnes nÃ¡ladu?</p>
        <div class="book-grid">
            <div class="book-card" onclick="showBook('magic', 'Harry Potter')">ğŸª„ KÃºzla</div>
            <div class="book-card" onclick="showBook('funny', 'MimoÅˆka')">ğŸ˜† Smiech</div>
            <div class="book-card" onclick="showBook('detective', 'Traja pÃ¡traÄi')">ğŸ•µï¸ ZÃ¡hady</div>
            <div class="book-card" onclick="showBook('animals', 'Hlas lesa')">ğŸ¦Š ZvieratkÃ¡</div>
        </div>

        <div id="recommendation-box">
            <strong id="rec-title"></strong>
            <p id="rec-text" style="font-size: 14px; color: #555;"></p>
        </div>

        <a href="https://www.audiolibrix.com/sk/Gift/Redeem" class="cta-button" onclick="celebrate()">ğŸ§ AKTIVOVAÅ¤ DARÄŒEK</a>
    </div>

    <script>
        let happiness = 50;
        const pet = document.getElementById('pet-emoji');
        const speech = document.getElementById('pet-speech');
        const happinessFill = document.getElementById('happiness-fill');

        // Funkcie pre psa
        function petAction(action) {
            pet.className = '';
            if(action === 'feed') {
                happiness += 15;
                speech.innerText = 'MÅˆam! DobrÃ© to bolo.';
                pet.classList.add('jump');
            } else if(action === 'play') {
                happiness += 20;
                speech.innerText = 'BeÅ¾Ã­m pre loptiÄku! ğŸ¾';
                pet.classList.add('spin');
            } else if(action === 'pet') {
                happiness += 10;
                speech.innerText = 'MÃ¡m Å¥a rÃ¡d! â¤ï¸';
                pet.classList.add('jump');
            } else if(action === 'dance') {
                happiness += 5;
                speech.innerText = 'Sleduj tie kroky! ğŸ•º';
                pet.classList.add('spin');
            }
            
            updateHappiness();
        }

        function updateHappiness() {
            if(happiness > 100) happiness = 100;
            happinessFill.style.width = happiness + '%';
            if(happiness > 80) pet.innerHTML = 'ğŸ¤–ğŸ¶âœ¨';
            else if(happiness < 30) pet.innerHTML = 'ğŸ¤–ğŸ¶ğŸ’¤';
            else pet.innerHTML = 'ğŸ¤–ğŸ¶';
        }

        // KniÅ¾nÃ½ poradca
        function showBook(type, title) {
            const box = document.getElementById('recommendation-box');
            const t = document.getElementById('rec-title');
            const p = document.getElementById('rec-text');
            box.style.display = 'block';
            t.innerText = 'SkvelÃ¡ voÄ¾ba: ' + title;
            
            if(type === 'magic') p.innerText = 'Ponor sa do sveta Äiar a kÃºziel, kde je vÅ¡etko moÅ¾nÃ©.';
            if(type === 'funny') p.innerText = 'Priprav si vreckovky na slzy od smiechu!';
            if(type === 'detective') p.innerText = 'Tento prÃ­beh Å¥a nenechÃ¡ spaÅ¥, kÃ½m neodhalÃ­Å¡ pravdu.';
            if(type === 'animals') p.innerText = 'Zisti, o Äom sa rozprÃ¡vajÃº zvieratkÃ¡ v lese.';

            confetti({ particleCount: 50, spread: 60, origin: { y: 0.7 } });
        }

        function celebrate() {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        }

        // ZniÅ¾ovanie Å¡Å¥astia plynule v Äase
        setInterval(() => {
            if(happiness > 10) {
                happiness -= 1;
                updateHappiness();
            }
        }, 5000);
    </div>
    </script>
</body>
</html>
